<!DOCTYPE html>
<html>
  <head>
    <title>Programação de Computadores: Aula 6</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" type="text/css" href="../template/css/roboto.css">
    <link rel="stylesheet" type="text/css" href="../template/css/general.css">
    <link rel="stylesheet" type="text/css" href="../template/css/code.css">
    <link rel="stylesheet" type="text/css" href="../template/css/cover.css">
    <link rel="stylesheet" type="text/css" href="../template/css/section.css">
    <link rel="stylesheet" type="text/css" href="../template/css/elements.css">
    <link rel="stylesheet" type="text/css" href="../template/css/table.css">
    <link rel="stylesheet" type="text/css" href="../template/css/block.css">
  </head>
  <body>

    <textarea id="source">

class: cover-slide

![:cover](
Programação de Computadores
Aula 5: Programação Visual - Repetições Indefinidas
Fernanda Passos
../template/img/logo.svg
)

---

class: section-slide

# Programação Visual: Repetição Indefinida

---

class: middle
layout: true
name: conteudo

.title[
{{slideTitle}}
<hr>]

---

slideTitle: Repetição Indefinida

- É aquela em que o limite da repetição é definido por uma .alert[**expressão lógica**].
  - Isto é, não é conhecida *a priori* pois depende do valor da expressão que é calculado a cada repetição.
- No início de cada repetição (*loop*), a .alert[**condição é testada**]:
  - Se valor da expressão lógica é .alert[**verdadeiro**], executa os blocos internos.
  - Se valor da expressão lógica é .alert[**falso**], termina o bloco sem executar.
- Estrutura bastante utilizada em programação.
  - Chamado de .alert["enquanto" (*while*)].

---

slideTitle: Blockly Code: Repetição Indefinida

- No Google Blockly Code, usamos o bloco em:
  - Laços &rarr; repita-enquanto

.center[![:imageS width:25%;](imagens/repita-enquanto.png)]

---

slideTitle: Blockly Code: Uso de Repetição Indefinida

- .alert[Problema:] Determinar quantas vezes um dado de 6 faces precisa ser jogado para acertar um número $n$ de entrada.
  - Precisamos de:
      - uma variável para guardar $n$ lido do usuário;
      - outra variável para ser a $face$ do dado sorteada;
      - um $contador$.
  - Executar os passos:
      - Obter $n$.
      - Jogar o dado e guardar valor na variável $face$.
      - Contar 1.
      - Enquanto $n$ for diferente de $face$, continuar jogando e cotando.
      - Ao final, imprimir o contador.

---

slideTitle: Uso de Repetição Indefinida: Solução Parcial

- Solução parcial no Blockly Code:
  - mas falta um detalhe importante!

.center[![:imageS width:90%;](imagens/dados_sol1.png)]

---

slideTitle: Uso de Repetição Indefinida: Solução Final

- Verificar se o valor de $n$ corresponde a uma face possível do dado.
  - Caso contrário, repetição nunca termina (*loop* infinito)!

.center[![:imageS width:90%;](imagens/dados_sol2.png)]

---

slideTitle: Mais Uso de Repetição Indefinida

- Fazer com que um programa permita como entrada um valor em um intervalo.
  - Por exemplo, entrar somente com valores positivos.

.center[![:imageS width:95%;](imagens/ex_intervalo.png)]

---

slideTitle: Mais Uso de Repetição Indefinida (II)

- Calcular o fatorial de um número positivo $n$.

.center[![:imageS width:95%;](imagens/ex_intervalo2.png)]

---

slideTitle: Outro Uso de Repetição Indefinida

- Ler números/textos até ser digitada uma *flag*.
    - *Flags* são valores que indicam o fim da repetição.
- Por exemplo, um programa que faz eco. Ele deve ler um texto e imprimir na tela até que que o texto "sair" (*flag*) seja digitado.

.center[![:imageS width:95%;](imagens/ex_flag.png)]

---

slideTitle: Outro Uso de Repetição Indefinida (II)

- Exemplo 2: Somar todos os números lidos até que um número negativo seja digitado.

.center[![:imageS width:95%;](imagens/ex_flag2.png)]

---

slideTitle: Repetição Definida vs. Indefinida

- Tudo que é feito com a repetição definida pode ser feito com a indefinida.

.center[
![:imageS width:50%;](imagens/contar-com_eq.png)
<br><span style="font-size:50px"> .alert[&#8661;] </span><br>
![:imageS width:50%;](imagens/repita-enquanto_eq.png)
]

---

slideTitle: Exercício I

#### Resolva as seguintes questões no Google Blockly Code.

1. Escreva 3 versões de um programa que calcule $b^e$, onde $e$ é inteiro, usando **multiplicações sucessivas**.
    - Versão 1: usando bloco repita-n-vezes.
    - Versão 2: usando bloco contar-com (*for*).
    - Versão 3: usando bloco repita-enquanto (while).
1. Escreva um programa que leia números até que a multiplicação entre eles seja maior que um limite previamente lido do usuário.
1. Escreva um programa que leia dois números $P$ e $N$. $P$ é uma porcentagem e seu valor deve estar entre 0 e 100. $N$ é um número qualquer ao qual deseja-se calcular a porcentagem $P$.
1. Escreva um programa que conte quantas vezes é necessário jogar dois dados de 6 faces para que a soma delas seja 9.

---

class: section-slide
layout: false

# Programação Visual: Repetições Aninhadas

---

template: conteudo
layout: true

---

slideTitle: Estruturas de Repetição Aninhadas

- Podemos aninhar qualquer estrutura em uma estrutura de repetição.
    - Blocos de comandos;
    - Blocos de controle condicional;
    - .alert[**Blocos de repetição]**.
    - ...
- Vamos ver exemplos no Google Blockly Game.

<!--
.center[![:imageS width:40%;](imagens/criar_variavel.png)]
-->

---

slideTitle: Google Blockly Game: Repetições Aninhadas

- O jogo da Tartaruga (*Turtle*) faz aninhamento de blocos de repetição.
- Experimente jogar os níveis 5 e 6.
- Acesse: https://blockly-games.appspot.com/turtle?lang=pt-br&level=5
- No jogo do Labirinto (*Maze*) há blocos condicionais dentro de blocos de repetição.
    - Uso do bloco "se caminho à".
    - Níveis finais requerem aninhamentos mais profundos.
- Experimente jogar os níveis de 6 e 7.
    - Acesse: https://blockly-games.appspot.com/maze?lang=pt-br&level=6

---

slideTitle: Blockly Code: Repetição Aninhadas

- No Blockly Code podemos fazer o mesmo.
- Repetições aninhadas geralmente servem para:
    - Trabalhar com 2 ou mais dimensões;
    - Trabalhar com matrizes bidimensionais e tabelas (veremos mais a frente em Python);
        - Ou ainda, matrizes 3D, com três níveis de repetição.
        - Ou ainda, mutidimensionais.
    - Realizar permutações (veremos mais a frente em Python);
    - ...

---

slideTitle: Blockly Code: Repetição Aninhadas (II)

- Exemplo: Calcular:
    .center[![:imageS width:20%;](imagens/sum_sum.png)]
<!--  $\displaystyle\sum_{j=1}^{n} \sum_{i=1}^{m} i \times j$ -->
    - Isto é: ($1\times 1 + 1 \times 2 + ... + 1 \times m$) + ($2\times 1 + 2 \times 2 + ... + 2 \times m$) + ... + ($n \times 1 + n \times 2 + ... + n \times m$)

.center[![:imageS width:95%;](imagens/ex_aninhamento.png)]

---

slideTitle: Exercício II

#### Resolva as questões abaixo no Google Blockly Code.

1. 
1. Calcule o fatorial de vários números obtidos do usuário. A entrada termina quando o usuário digitar -1 (ou qual outro número negativo).



    </textarea>

    <script src="../template/js/remark-latest.min.js" type="text/javascript"></script>
    <script src="../template/js/macros.js" type="text/javascript"></script>
    <script src="../template/js/callbacks.js" type="text/javascript"></script>
    <script src="../template/js/katex.min.js"></script>
    <script src="../template/js/auto-render.min.js"></script>
    <link rel="stylesheet" href="../template/css/katex.min.css">
    <script type="text/javascript">
      var renderMath = function() {
        renderMathInElement(document.body, {delimiters: [
           {left: "$$", right: "$$", display: true},
           {left: "$", right: "$", display: false},
           {left: "\\[", right: "\\]", display: true},
           {left: "\\(", right: "\\)", display: false},
        ]});
      }
      var slideshow = remark.create({highlightStyle: "github", highlightLines: "true", highlightSpans: "true", slideNumberFormat: onSlideCallback}, renderMath);

      slideshow.on('afterShowSlide', function (s) {

          var slide = document.getElementsByClassName('remark-visible')[0];
          var iframeList = slide.getElementsByClassName('scaled-frame-md');

          var i;
          for (i = 0; i < iframeList.length; i++) {

              var iframe = iframeList[i];

              if (typeof iframe.attributes.after !== 'undefined') continue ;

              var src = iframe.src;
              iframe.src = '';
              iframe.src = src;

              var att = document.createAttribute("after");
              att.value = 'true';
              iframe.attributes.setNamedItem(att);
          }

      });
    </script>
</body>
</html>
